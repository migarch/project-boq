<mat-card class="main-card">
    <mat-card-header class="main-header">
        <mat-card-title>
            {{ProjectName}}
        </mat-card-title>
        <mat-card-subtitle>
            Proejct Details
        </mat-card-subtitle>
        
    </mat-card-header>
    <mat-card-content>
        <div style="width: 100%; display: inline-flex; position: relative;">
        <div class="width-25">
            <mat-card class="bulding-card">
                <mat-card-header>
                <mat-card-subtitle class="inner-subtitle">
                    <div class="containerX">
                        <div class="container">
                            <div class="copyButton">
                                <button mat-raised-button mat-button color="primary" (click)="toggleAdd('addDiv')">
                                    <mat-icon>add</mat-icon>
                                </button>
                            </div>
                        </div>
                    </div>
                </mat-card-subtitle>
                </mat-card-header>
                <div [@slideInOut]="animationState" class="addDiv" >
                    <form [formGroup]="addBulding" (ngSubmit)="sendBuildingData()">
                        <mat-form-field class="width-50">
                            <mat-label>Building Sortcode</mat-label>
                            <input matInput type="text" formControlName="BuildingShortCode" placeholder="">
                        </mat-form-field>
                        <mat-form-field class="width-50 ml-2">
                            <mat-label>Building Name</mat-label>
                            <input matInput type="text" formControlName="BuildingName" placeholder="">
                            <mat-error>Required</mat-error>
                        </mat-form-field>
                        <span class="b-add-button">
                            <button [disabled]="!this.addBulding.valid" align="end" mat-button mat-raised-button color="primary">Insert</button>
                            <button class="cancelButton" mat-button mat-raised-button color="cancel" (click)="reset()">Cancel</button>
                        </span>
                    </form>
                </div>
                <mat-card-content>
                    <mat-selection-list class="bulding-select" #shoes [multiple]="false" (selectionChange)="getBuildingList($event)">
                        <mat-list-option class="bulding-list" *ngFor="let building of buildingDetails" [value]="building.id">
                        <span>({{building.BuildingShortCode}}) | {{building.BuildingName}}
                                <mat-hint align="end">
                                    <button mat-icon-button [matMenuTriggerFor]="menu">
                                        <mat-icon class="mat-icon-clor">more_vert</mat-icon>
                                    </button>
                                    <mat-menu #menu="matMenu">
                                        <button mat-menu-item>
                                        <mat-icon>edit</mat-icon>
                                        <mat-icon>delete</mat-icon>
                                        </button>
                                    </mat-menu>
                                </mat-hint>
                        </span>
                        </mat-list-option>
                    </mat-selection-list>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="width-25">
            <mat-card class="items-card">
                <mat-card-header>
                    <mat-card-subtitle class="inner-subtitle">
                        <div class="containerX">
                            <div class="container">
                                <div class="copyButton">
                                    <button [disabled]="!disabledAddItem" mat-raised-button mat-button color="primary" (click)="toggleAdd('addDiv2')">
                                        <mat-icon>add</mat-icon>
                                    </button>
                                    <button class="ml-2" [disabled]="!disabledAddItem" (click)="slectAndItems('Select',{})" mat-raised-button mat-button color="primary">
                                        <mat-icon>content_copy</mat-icon>
                                    </button>
                                </div>
                                <div class="conf-seq">
                                        <select class="select-confi" [disabled]="disabledSequence" matTooltip="Select items sequence" matTooltipPosition="above" matNativeControl #sel (change)="itemSequence(sel.value)">
                                            <option value="" selected>Defualt</option>
                                            <option value="CapitalAlpha">A,B,C</option>
                                            <option value="SmallAlpha">a,b,c</option>
                                            <option value="EngNumber">1,2,3</option>
                                            <option value="RomanNumber">I,II,III</option>
                                        </select>
                                </div>
                                
                            </div>
                        </div>
                    </mat-card-subtitle>
                </mat-card-header>
                <div [@slideInOut]="animationState2" class="addDiv2" >
                    <form [formGroup]="addItems" (ngSubmit)="sendItemsData()">
                        <mat-form-field class="width-100">
                            <mat-label>Item Name</mat-label>
                            <input matInput type="text" formControlName="ItemsName" placeholder="Item Name">
                        </mat-form-field>
                        <button [disabled]="this.addItems.invalid" align="end" mat-button mat-raised-button color="primary">Insert</button>
                        <button class="cancelButton" mat-button mat-raised-button (click)="reset2()">Cancel</button>
                    </form>
                </div>
                <mat-card-content>
                    <mat-selection-list class="bulding-select" class="" #item [multiple]="false" (selectionChange)="getItemId($event)">
                        <mat-list-option class="bulding-list" *ngFor="let items of buildingItem" [value]="items.id">
                            <span>({{items.ItemShortCode}}) {{items.ItemName}}
                            <mat-hint>
                                <button mat-icon-button [matMenuTriggerFor]="menu">
                                    <mat-icon class="mat-icon-clor">more_vert</mat-icon>
                                </button>
                                <mat-menu #menu="matMenu">
                                    <button mat-menu-item>
                                    <mat-icon>edit</mat-icon>
                                    <mat-icon>delete</mat-icon>
                                    </button>
                                </mat-menu>
                            </mat-hint></span>
                        </mat-list-option>
                    </mat-selection-list>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="width-50" style="width: 50%;">
            <mat-card class="itemlist-card">
                <mat-card-header>
                    <mat-card-subtitle class="inner-subtitle">
                        <div class="containerX">
                            <div class="container">
                                <div class="copyButton">
                                    <button [disabled]="" mat-raised-button mat-button color="primary">
                                        <mat-icon>add</mat-icon>
                                    </button>
                                    <button [disabled]="!disabledCopyLineItem" class="ml-2" mat-raised-button mat-button color="primary">
                                        <mat-icon>content_copy</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </mat-card-subtitle>
                </mat-card-header>
                
                <mat-card-content>
                    <!-- mat table -->

                    <table mat-table [dataSource]="dataSource" #outerSort="matSort"  multiTemplateDataRows class="mat-elevation-z8" matSort>
                        <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column}} </th>
                            <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
                        </ng-container>

                        <!-- Expanded Content -->
                        <ng-container matColumnDef="expandedDetail">
                            <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                                <div class="example-element-detail" *ngIf="element.sublineitems?.data.length" [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                                    <div class="inner-table mat-elevation-z8" *ngIf="expandedElement">
                                        
                                        <table #innerTables mat-table #innerSort="matSort" [dataSource]="element.sublineitems" matSort>
                                            <ng-container matColumnDef="{{innerColumn}}" *ngFor="let innerColumn of innerDisplayedColumns">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{innerColumn}} </th>
                                            <td mat-cell *matCellDef="let element"> {{element[innerColumn]}}</td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="innerDisplayedColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: innerDisplayedColumns;"></tr>
                                        </table>
                                    </div>
                                </div>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                        <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" [class.example-element-row]="element.sublineitems?.data.length"
                        [class.example-expanded-row]="expandedElement === element" (click)="toggleRow(element)">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
                    </table>
                </mat-card-content>
            </mat-card>
        </div>
        </div>

    </mat-card-content>
 </mat-card>
  